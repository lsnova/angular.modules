!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/keycodes"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@lsnova/angularmodules",["exports","@angular/core","@angular/cdk/keycodes","@angular/forms"],t):t((e.lsnova=e.lsnova||{},e.lsnova.angularmodules={}),e.ng.core,e.ng.cdk.keycodes,e.ng.forms)}(this,function(e,n,i,t){"use strict";var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(i,o){var r,s,a,e,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,s&&(a=2&e[0]?s["return"]:e[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,e[1])).done)return a;switch(s=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,s=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],s=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}var a=".",l=function O(e){void 0===e&&(e={}),this.precision=0,this.decimals=a,Object.assign(this,e)},c=function M(e){void 0===e&&(e={}),Object.assign(this,e)},u=function(){function e(e){var t=new c;e&&(t=Object.assign(t,e));var n=t.numeric||{},i=t.custom||{};this.config=new c({numeric:new l(n),custom:i})}return e.prototype.getNumericConfig=function(){return this.config.numeric},e.prototype.getCustomConfig=function(e){return this.config.custom[e]||{}},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:c}]},e}(),f={provide:t.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return g}),multi:!0},g=function(){function e(e,t){this.el=e,this.configService=t,this.lsnNumeric={},this.onChange=function(e){},this.onTouch=function(){},this.element=e,this.setConfig()}return e.prototype.ngOnChanges=function(){this.setConfig()},e.prototype.inputHandler=function(e){if("-"!==e.target.value){var t=this.handleLength(e.target.value),n=this.parseValue(t),i=this.handleRange(n);n===i?(this.displayValue=t.replace(/[,|.]/,this.config.decimals),this.onChange(n)):(this.displayValue=i.toString().replace(/[,|.]/,this.config.decimals),this.onChange(i))}},e.prototype.focusHandler=function(){this.setEditMode()},e.prototype.blurHandler=function(){this.displayValue=this.prepareDisplayValue(this.element.nativeElement.value)},e.prototype.writeValue=function(n){return function e(t,s,a,l){return new(a||(a=Promise))(function(e,n){function i(e){try{r(l.next(e))}catch(t){n(t)}}function o(e){try{r(l["throw"](e))}catch(t){n(t)}}function r(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(i,o)}r((l=l.apply(t,s||[])).next())})}(this,void 0,void 0,function(){var t;return r(this,function(e){return t=this.parseValue(n),t=this.handleRange(t),this.displayValue=this.prepareDisplayValue(t),[2]})})},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouch=e},Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.element.nativeElement.value},set:function(e){this.element.nativeElement.value=e},enumerable:!0,configurable:!0}),e.prototype.setConfig=function(){var e=this.lsnNumeric.config?this.configService.getCustomConfig(this.lsnNumeric.config):this.configService.getNumericConfig();this.config=Object.assign(o({},e,this.lsnNumeric)),this.config.decimals&&this.config.thousands&&this.config.decimals===this.config.thousands&&(this.config.thousands=undefined),this.config.max!==undefined&&this.config.maxLength!==undefined&&console.warn("[lsnNumeric] Setting `maxLength` makes `max` redundant.")},e.prototype.parseValue=function(e){if(!e&&0!==e)return undefined;var t=e.toString().replace(/[,|.]/,"."),n=0<this.config.precision?parseFloat(t):parseInt(t,10);return isNaN(n)?undefined:n},e.prototype.handleLength=function(e){return this.config.maxLength&&e.toString().length>this.config.maxLength?e.toString().substr(0,this.config.maxLength):e},e.prototype.handleRange=function(e){return!this.config.maxLength&&this.config.max!==undefined&&e>this.config.max?this.config.max:this.config.min!==undefined&&e<this.config.min?this.config.min:e},e.prototype.prepareDisplayValue=function(e){if(!e&&0!==e)return"";var t=s("number"==typeof e?e.toString().split("."):e.toString().split(this.config.decimals),2),n=t[0],i=t[1],o="-"===n[0],r="-"!==n&&n?Math.abs(parseInt(n,10)).toString():"0";return this.config.thousands&&(r=r.replace(/\B(?=(\d{3})+(?!\d))/g,this.config.thousands)),i&&this.config.precision&&this.config.decimals&&(r=r+this.config.decimals+i),o&&"0"!==r?"-"+r:r},e.prototype.setEditMode=function(){if(this.config.thousands){var e=s(this.element.nativeElement.value.split(this.config.decimals),2),t=e[0],n=e[1],i=new RegExp("\\"+this.config.thousands,"g"),o=t.replace(i,"");n&&this.config.precision&&this.config.decimals&&(o=o+this.config.decimals+n),this.displayValue=o}},e.prototype.keyDownHandler=function(e){var t=this.element.nativeElement.value;if(-1===[i.LEFT_ARROW,i.RIGHT_ARROW,i.BACKSPACE,i.DELETE,i.END,i.ENTER,i.ESCAPE,i.HOME,i.TAB].indexOf(e.keyCode)&&(-1===[i.A,i.C,i.R,i.V,i.X].indexOf(e.keyCode)||!0!==e.ctrlKey&&!0!==e.metaKey)&&(this.config.maxLength!==undefined&&t.toString().length>=this.config.maxLength&&this.element.nativeElement.selectionEnd-this.element.nativeElement.selectionStart==0&&e.preventDefault(),!(-1!==[i.DASH,i.NUMPAD_MINUS].indexOf(e.keyCode)&&0===this.element.nativeElement.selectionStart&&(this.config.min!==undefined&&this.config.min<0||this.config.min===undefined)&&-1===t.indexOf("-")||0<this.config.precision&&-1!==[i.COMMA,i.NUMPAD_PERIOD,190].indexOf(e.keyCode)&&0<this.element.nativeElement.selectionStart&&t.length&&-1===t.indexOf(".")&&-1===t.indexOf(",")))){if(0<this.config.precision&&-1<t.indexOf(this.config.decimals)&&this.element.nativeElement.selectionStart>t.indexOf(this.config.decimals)){var n=s(t.split(this.config.decimals),2)[1];n&&n.length>=this.config.precision&&e.preventDefault()}((-1===[i.ZERO,i.ONE,i.TWO,i.THREE,i.FOUR,i.FIVE,i.SIX,i.SEVEN,i.EIGHT,i.NINE].indexOf(e.keyCode)||e.shiftKey)&&-1===[i.NUMPAD_ZERO,i.NUMPAD_ONE,i.NUMPAD_TWO,i.NUMPAD_THREE,i.NUMPAD_FOUR,i.NUMPAD_FIVE,i.NUMPAD_SIX,i.NUMPAD_SEVEN,i.NUMPAD_EIGHT,i.NUMPAD_NINE].indexOf(e.keyCode)||0===this.element.nativeElement.selectionStart&&-1<t.indexOf("-"))&&e.preventDefault()}},e.decorators=[{type:n.Directive,args:[{selector:"[lsnNumeric][ngModel]",providers:[f]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:u}]},e.propDecorators={lsnNumeric:[{type:n.Input}],inputHandler:[{type:n.HostListener,args:["input",["$event"]]}],focusHandler:[{type:n.HostListener,args:["focus",["$event"]]}],blurHandler:[{type:n.HostListener,args:["blur",["$event"]]}],keyDownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),h=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[u,{provide:c,useValue:e}]}},t.decorators=[{type:n.NgModule,args:[{declarations:[g],exports:[g]}]}],t}(),p=function x(){this.allowLeadingZeros=!1},d=function(){function e(e,t){this.element=e,this.ngControl=t,this.lsnNumPad={},this.defaultConfig=new p}return e.prototype.ngOnChanges=function(){this.config=Object.assign(o({},this.defaultConfig,this.lsnNumPad))},e.prototype.inputHandler=function(e){var t=e.target.value;this.setValue(this.parseNewValue(t))},e.prototype.blurHandler=function(e){var t=e.target.value;this.setValue(this.parseNewValue(t,!0))},e.prototype.setValue=function(e){this.ngControl&&this.ngControl.control?this.ngControl.control.setValue(e):this.element.nativeElement.value=e},e.prototype.parseNewValue=function(e,t){void 0===t&&(t=!1);var n=e.replace(/[^0-9]/g,"");return""===n?t?"":n:(this.config.maxlength&&0<this.config.maxlength&&(n=n.substring(0,this.config.maxlength)),!this.config.allowLeadingZeros&&t&&(n=n.replace(/^0+/,"")),n)},e.prototype.keyDownHandler=function(e){var t=this.element.nativeElement.value;-1===[i.LEFT_ARROW,i.RIGHT_ARROW,i.BACKSPACE,i.DELETE,i.END,i.ENTER,i.ESCAPE,i.HOME,i.TAB].indexOf(e.keyCode)&&(-1===[i.A,i.C,i.R,i.V,i.X].indexOf(e.keyCode)||!0!==e.ctrlKey&&!0!==e.metaKey)&&((-1===[i.ZERO,i.ONE,i.TWO,i.THREE,i.FOUR,i.FIVE,i.SIX,i.SEVEN,i.EIGHT,i.NINE].indexOf(e.keyCode)||e.shiftKey)&&-1===[i.NUMPAD_ZERO,i.NUMPAD_ONE,i.NUMPAD_TWO,i.NUMPAD_THREE,i.NUMPAD_FOUR,i.NUMPAD_FIVE,i.NUMPAD_SIX,i.NUMPAD_SEVEN,i.NUMPAD_EIGHT,i.NUMPAD_NINE].indexOf(e.keyCode)||t.length&&this.config.maxlength&&0<this.config.maxlength&&t.length>=this.config.maxlength)&&e.preventDefault()},e.decorators=[{type:n.Directive,args:[{selector:"[lsnNumPad]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:t.NgControl,decorators:[{type:n.Optional}]}]},e.propDecorators={lsnNumPad:[{type:n.Input}],inputHandler:[{type:n.HostListener,args:["input",["$event"]]}],blurHandler:[{type:n.HostListener,args:["blur",["$event"]]}],keyDownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),m=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[d],imports:[],exports:[d]}]}],e}(),y=function(){function e(e,t){this.model=e,this.el=t,this.latinToGreek=[[/A/gi,"Α"],[/B/gi,"Β"],[/G/gi,"Γ"],[/D/gi,"Δ"],[/E/gi,"Ε"],[/Z/gi,"Ζ"],[/H/gi,"Η"],[/U/gi,"Θ"],[/I/gi,"Ι"],[/K/gi,"Κ"],[/L/gi,"Λ"],[/M/gi,"Μ"],[/N/gi,"Ν"],[/J/gi,"Ξ"],[/O/gi,"Ο"],[/P/gi,"Π"],[/R/gi,"Ρ"],[/S/gi,"Σ"],[/T/gi,"Τ"],[/Y/gi,"Υ"],[/F/gi,"Φ"],[/X/gi,"Χ"],[/C/gi,"Ψ"],[/V/gi,"Ω"],[/W/gi,"W"],[/Q/gi,"Q"]]}return e.prototype.getCaret=function(){return{start:this.el.nativeElement.selectionStart,end:this.el.nativeElement.selectionEnd}},e.prototype.setCaret=function(e,t){this.el.nativeElement.selectionStart=e,this.el.nativeElement.selectionEnd=t,this.el.nativeElement.focus()},e.prototype.onInputChange=function(e){var t=this.getCaret(),n=t.start,i=t.end,o=e.toLocaleUpperCase();this.latinToGreek.forEach(function(e){o=o.replace(e[0],e[1])}),this.model.valueAccessor.writeValue(o),this.setCaret(n,i)},e.decorators=[{type:n.Directive,args:[{selector:"[ngModel][lsnLatinToGreek]",providers:[t.NgModel]}]}],e.ctorParameters=function(){return[{type:t.NgModel},{type:n.ElementRef}]},e.propDecorators={onInputChange:[{type:n.HostListener,args:["ngModelChange",["$event"]]}]},e}(),v=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[y],imports:[],exports:[y]}]}],e}(),E=function(){function e(e){this.model=e}return e.prototype.onInputChange=function(e){this.model.valueAccessor.writeValue(e.toLocaleUpperCase())},e.decorators=[{type:n.Directive,args:[{selector:"[ngModel][lsnCapitalize]",providers:[t.NgModel]}]}],e.ctorParameters=function(){return[{type:t.NgModel}]},e.propDecorators={onInputChange:[{type:n.HostListener,args:["ngModelChange",["$event"]]}]},e}(),N=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[E],imports:[],exports:[E]}]}],e}(),C=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[],imports:[t.FormsModule,N,v,h.forRoot(),m],exports:[]}]}],e}();e.LsnLibsModule=C,e.LsnCapitalizeModule=N,e.LsnLatinToGreekModule=v,e.LsnNumericModule=h,e.LsnNumpadModule=m,e.ɵa=E,e.ɵb=y,e.ɵc=g,e.ɵf=d,e.ɵe=u,e.ɵd=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=lsnova-angularmodules.umd.min.js.map