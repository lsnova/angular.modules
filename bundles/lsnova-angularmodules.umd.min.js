!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/cdk/keycodes"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@lsnova/angularmodules",["exports","@angular/core","@angular/cdk/keycodes","@angular/forms"],n):n((e.lsnova=e.lsnova||{},e.lsnova.angularmodules={}),e.ng.core,e.ng.cdk.keycodes,e.ng.forms)}(this,function(e,n,i,t){"use strict";var r=function(){return(r=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};var o=".",s=function f(){this.precision=0,this.separator=o},a=function(){function e(e,n){this.el=e,this.ngControl=n,this.lsnNumeric={},this.defaultConfig=new s,this.element=e}return e.prototype.ngOnChanges=function(){this.config=Object.assign(r({},this.defaultConfig,this.lsnNumeric))},e.prototype.inputHandler=function(e){var n=e.target.value;this.ngControl.control.setValue(this.parseNewValue(n))},e.prototype.blurHandler=function(e){var n=e.target.value;this.ngControl.control.setValue(this.parseNewValue(n,!0))},e.prototype.parseNewValue=function(e,n){void 0===n&&(n=!1);var t=e;if(""===t||"-"===t)return n?"":t;if(0<this.config.precision){if(t=t.replace(/[,|.]/,this.config.separator),-1<[this.config.separator,"0"].indexOf(t.slice(-1))&&!n)return t;t=parseFloat(t)}else t=parseInt(t,10);return this.config.max!==undefined&&t>this.config.max?t=this.config.max:this.config.min!==undefined&&t<this.config.min&&(t=this.config.min),isNaN(t)?"":t},e.prototype.keyDownHandler=function(e){var n=this.element.nativeElement.value;if(-1===[i.LEFT_ARROW,i.RIGHT_ARROW,i.BACKSPACE,i.DELETE,i.END,i.ENTER,i.ESCAPE,i.HOME,i.TAB].indexOf(e.keyCode)&&(-1===[i.A,i.C,i.R,i.V,i.X].indexOf(e.keyCode)||!0!==e.ctrlKey&&!0!==e.metaKey)&&!(-1!==[i.DASH,i.NUMPAD_MINUS].indexOf(e.keyCode)&&0===this.element.nativeElement.selectionStart&&(this.config.min!==undefined&&this.config.min<0||this.config.min===undefined)&&(this.config.max!==undefined&&this.config.max<0||this.config.max===undefined)&&-1===n.indexOf("-")||0<this.config.precision&&-1!==[i.COMMA,i.NUMPAD_PERIOD,190].indexOf(e.keyCode)&&0<this.element.nativeElement.selectionStart&&n.length&&-1===n.indexOf(this.config.separator))){if(0<this.config.precision&&-1<n.indexOf(this.config.separator)&&this.element.nativeElement.selectionStart>n.indexOf(this.config.separator)){var t=function l(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,r,o=t.call(e),s=[];try{for(;(void 0===n||0<n--)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(t=o["return"])&&t.call(o)}finally{if(r)throw r.error}}return s}(n.split(this.config.separator),2)[1];t&&t.length>=this.config.precision&&e.preventDefault()}((-1===[i.ZERO,i.ONE,i.TWO,i.THREE,i.FOUR,i.FIVE,i.SIX,i.SEVEN,i.EIGHT,i.NINE].indexOf(e.keyCode)||e.shiftKey)&&-1===[i.NUMPAD_ZERO,i.NUMPAD_ONE,i.NUMPAD_TWO,i.NUMPAD_THREE,i.NUMPAD_FOUR,i.NUMPAD_FIVE,i.NUMPAD_SIX,i.NUMPAD_SEVEN,i.NUMPAD_EIGHT,i.NUMPAD_NINE].indexOf(e.keyCode)||0===this.element.nativeElement.selectionStart&&-1<n.indexOf("-"))&&e.preventDefault()}},e.decorators=[{type:n.Directive,args:[{selector:"[lsnNumeric]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:t.NgControl}]},e.propDecorators={lsnNumeric:[{type:n.Input}],inputHandler:[{type:n.HostListener,args:["input",["$event"]]}],blurHandler:[{type:n.HostListener,args:["blur",["$event"]]}],keyDownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),l=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[a],imports:[],exports:[a]}]}],e}();e.LsnLibsModule=l,e.NumericDirective=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=lsnova-angularmodules.umd.min.js.map