!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/keycodes"),require("@angular/forms")):"function"==typeof define&&define.amd?define("lsn-libs",["exports","@angular/core","@angular/cdk/keycodes","@angular/forms"],t):t(e["lsn-libs"]={},e.ng.core,e.ng.cdk.keycodes,e.ng.forms)}(this,function(e,t,i,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var o=".",s=function l(){this.precision=0,this.separator=o},a=function(){function e(e,t){this.el=e,this.ngControl=t,this.lsnNumeric={},this.defaultConfig=new s,this.element=e}return e.prototype.ngOnChanges=function(){this.config=Object.assign(r({},this.defaultConfig,this.lsnNumeric))},e.prototype.inputHandler=function(e){var t=e.target.value;this.ngControl.control.setValue(this.parseNewValue(t))},e.prototype.blurHandler=function(e){var t=e.target.value;this.ngControl.control.setValue(this.parseNewValue(t,!0))},e.prototype.parseNewValue=function(e,t){void 0===t&&(t=!1);var n=e;if(""===n||"-"===n)return t?"":n;if(0<this.config.precision){if(n=n.replace(/[,|.]/,this.config.separator),-1<[this.config.separator,"0"].indexOf(n.slice(-1))&&!t)return n;n=parseFloat(n)}else n=parseInt(n,10);return this.config.max!==undefined&&n>this.config.max?n=this.config.max:this.config.min!==undefined&&n<this.config.min&&(n=this.config.min),isNaN(n)?"":n},e.prototype.keyDownHandler=function(e){var t=this.element.nativeElement.value;if(-1===[i.LEFT_ARROW,i.RIGHT_ARROW,i.BACKSPACE,i.DELETE,i.END,i.ENTER,i.ESCAPE,i.HOME,i.TAB].indexOf(e.keyCode)&&(-1===[i.A,i.C,i.R,i.V,i.X].indexOf(e.keyCode)||!0!==e.ctrlKey&&!0!==e.metaKey)&&!(-1!==[i.DASH,i.NUMPAD_MINUS].indexOf(e.keyCode)&&0===this.element.nativeElement.selectionStart&&(this.config.min!==undefined&&this.config.min<0||this.config.min===undefined)&&(this.config.max!==undefined&&this.config.max<0||this.config.max===undefined)&&-1===t.indexOf("-")||0<this.config.precision&&-1!==[i.COMMA,i.NUMPAD_PERIOD,190].indexOf(e.keyCode)&&0<this.element.nativeElement.selectionStart&&t.length&&-1===t.indexOf(this.config.separator))){if(0<this.config.precision&&-1<t.indexOf(this.config.separator)&&this.element.nativeElement.selectionStart>t.indexOf(this.config.separator)){var n=function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s}(t.split(this.config.separator),2)[1];n&&n.length>=this.config.precision&&e.preventDefault()}((-1===[i.ZERO,i.ONE,i.TWO,i.THREE,i.FOUR,i.FIVE,i.SIX,i.SEVEN,i.EIGHT,i.NINE].indexOf(e.keyCode)||e.shiftKey)&&-1===[i.NUMPAD_ZERO,i.NUMPAD_ONE,i.NUMPAD_TWO,i.NUMPAD_THREE,i.NUMPAD_FOUR,i.NUMPAD_FIVE,i.NUMPAD_SIX,i.NUMPAD_SEVEN,i.NUMPAD_EIGHT,i.NUMPAD_NINE].indexOf(e.keyCode)||0===this.element.nativeElement.selectionStart&&-1<t.indexOf("-"))&&e.preventDefault()}},e.decorators=[{type:t.Directive,args:[{selector:"[lsnNumeric]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:n.NgControl}]},e.propDecorators={lsnNumeric:[{type:t.Input}],inputHandler:[{type:t.HostListener,args:["input",["$event"]]}],blurHandler:[{type:t.HostListener,args:["blur",["$event"]]}],keyDownHandler:[{type:t.HostListener,args:["keydown",["$event"]]}]},e}(),f=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a],imports:[],exports:[a]}]}],e}();e.LsnLibsModule=f,e.Éµa=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=lsn-libs.umd.min.js.map