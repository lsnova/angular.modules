!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/cdk/keycodes"),require("@angular/forms")):"function"==typeof define&&define.amd?define("lsn-modules",["exports","@angular/core","@angular/cdk/keycodes","@angular/forms"],n):n(e["lsn-modules"]={},e.ng.core,e.ng.cdk.keycodes,e.ng.forms)}(this,function(e,n,r,t){"use strict";var i=function(){function e(){}return e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),o=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:n.Component,args:[{selector:"lsn-lsn-modules",template:"\n    <p>\n      lsn-modules works!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),s=function(){return(s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};var a=".",c=function u(){this.precision=0,this.separator=a},f=function(){function e(e,n){this.el=e,this.ngControl=n,this.lsnNumeric={},this.defaultConfig=new c,this.element=e}return e.prototype.ngOnChanges=function(){this.config=Object.assign(s({},this.defaultConfig,this.lsnNumeric))},e.prototype.inputHandler=function(e){var n=e.target.value;this.ngControl.control.setValue(this.parseNewValue(n))},e.prototype.blurHandler=function(e){var n=e.target.value;this.ngControl.control.setValue(this.parseNewValue(n,!0))},e.prototype.parseNewValue=function(e,n){void 0===n&&(n=!1);var t=e;if(""===t||"-"===t)return n?"":t;if(0<this.config.precision){if(t=t.replace(/[,|.]/,this.config.separator),-1<[this.config.separator,"0"].indexOf(t.slice(-1))&&!n)return t;t=parseFloat(t)}else t=parseInt(t,10);return this.config.max!==undefined&&t>this.config.max?t=this.config.max:this.config.min!==undefined&&t<this.config.min&&(t=this.config.min),isNaN(t)?"":t},e.prototype.keyDownHandler=function(e){var n=this.element.nativeElement.value;if(-1===[r.LEFT_ARROW,r.RIGHT_ARROW,r.BACKSPACE,r.DELETE,r.END,r.ENTER,r.ESCAPE,r.HOME,r.TAB].indexOf(e.keyCode)&&(-1===[r.A,r.C,r.R,r.V,r.X].indexOf(e.keyCode)||!0!==e.ctrlKey&&!0!==e.metaKey)&&!(-1!==[r.DASH,r.NUMPAD_MINUS].indexOf(e.keyCode)&&0===this.element.nativeElement.selectionStart&&(this.config.min!==undefined&&this.config.min<0||this.config.min===undefined)&&(this.config.max!==undefined&&this.config.max<0||this.config.max===undefined)&&-1===n.indexOf("-")||0<this.config.precision&&-1!==[r.COMMA,r.NUMPAD_PERIOD,190].indexOf(e.keyCode)&&0<this.element.nativeElement.selectionStart&&n.length&&-1===n.indexOf(this.config.separator))){if(0<this.config.precision&&-1<n.indexOf(this.config.separator)&&this.element.nativeElement.selectionStart>n.indexOf(this.config.separator)){var t=function c(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,i,o=t.call(e),s=[];try{for(;(void 0===n||0<n--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(t=o["return"])&&t.call(o)}finally{if(i)throw i.error}}return s}(n.split(this.config.separator),2)[1];t&&t.length>=this.config.precision&&e.preventDefault()}((-1===[r.ZERO,r.ONE,r.TWO,r.THREE,r.FOUR,r.FIVE,r.SIX,r.SEVEN,r.EIGHT,r.NINE].indexOf(e.keyCode)||e.shiftKey)&&-1===[r.NUMPAD_ZERO,r.NUMPAD_ONE,r.NUMPAD_TWO,r.NUMPAD_THREE,r.NUMPAD_FOUR,r.NUMPAD_FIVE,r.NUMPAD_SIX,r.NUMPAD_SEVEN,r.NUMPAD_EIGHT,r.NUMPAD_NINE].indexOf(e.keyCode)||0===this.element.nativeElement.selectionStart&&-1<n.indexOf("-"))&&e.preventDefault()}},e.decorators=[{type:n.Directive,args:[{selector:"[lsnNumeric]"}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:t.NgControl}]},e.propDecorators={lsnNumeric:[{type:n.Input}],inputHandler:[{type:n.HostListener,args:["input",["$event"]]}],blurHandler:[{type:n.HostListener,args:["blur",["$event"]]}],keyDownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}]},e}(),l=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[o,f],imports:[],exports:[o,f]}]}],e}();e.LsnModulesService=i,e.LsnModulesComponent=o,e.LsnModulesModule=l,e.NumericDirective=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=lsn-modules.umd.min.js.map